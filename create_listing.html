{% extends "auctions/layout.html" %}

{% block body %}
<div class="container">
    <h2 class="mb-4">Create a New Listing</h2>

    <!-- Flash Messages for Errors & Success -->
    {% if messages %}
        <div class="mt-3">
            {% for message in messages %}
                <div class="alert {% if message.tags == 'error' %}alert-danger{% else %}alert-success{% endif %}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <!-- Listing Form -->
    <form method="post" enctype="multipart/form-data" class="mt-4 mb-4 w-50 mx-auto border p-4 rounded bg-light">
        {% csrf_token %}

        <div class="form-group">
            <label for="title">Title:</label>
            <input type="text" name="title" class="form-control" required>
        </div>

        <div class="form-group">
            <label for="description">Description:</label>
            <textarea name="description" class="form-control" rows="4" required></textarea>
        </div>

        <div class="form-group">
            <label for="starting_bid">Starting Bid ($):</label>
            <input type="number" name="starting_bid" class="form-control" step="0.01" required>
        </div>

        <div class="form-group">
            <label for="image">Upload Image:</label>
            <input type="file" name="image" accept="image/*" class="form-control-file">
        </div>

        <div class="form-group">
            <label for="category">Category (Optional):</label>
            <input list="categories" name="category" id="category" class="form-control">
            <datalist id="categories">
                <option value="Electronics">
                <option value="Fashion">
                <option value="Toys">
                <option value="Home & Garden">
                <option value="Automotive">
            </datalist>
        </div>

        <div class="d-flex justify-content-between">
            <a href="{% url 'index' %}" class="btn btn-danger">Cancel</a>
            <button type="submit" class="btn">Create Listing</button>
        </div>
    </form>
</div>
{% endblock %}
